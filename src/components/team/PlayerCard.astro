---
interface Props {
  player: {
    id: number;
    name: string;
    number: number;
    position: string;
    photo: string;
    appearances: number;
    goals: number;
    assists: number;
  };
}

const { player } = Astro.props;
let showDetails = false;

function toggleDetails() {
  showDetails = !showDetails;
}
---

<div 
  class="relative group"
  on:click="toggleDetails"
>
  <!-- Carte principale -->
  <div 
    class="bg-white rounded-lg shadow-lg overflow-hidden transform transition-transform duration-300 group-hover:scale-105"
  >
    <!-- Image du joueur -->
    <div class="aspect-[3/4] overflow-hidden">
      <img
        src={player.photo || '/player.webp'}
        alt={player.name}
        class="w-full h-full object-cover"
        onError="this.src='/player.webp'"
      />
    </div>

    <!-- Informations de base (toujours visibles) -->
    <div class="p-4 bg-primary text-white">
      <div class="flex justify-between items-center">
        <h3 class="font-bold">{player.name}</h3>
        <span class="text-xl font-bold">#{player.number}</span>
      </div>
    </div>

    <!-- Informations détaillées -->
    <div 
      class={`absolute inset-0 bg-black bg-opacity-80 text-white 
              opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex 
              flex-col justify-center items-center p-4 
              ${showDetails ? 'opacity-100' : ''}`}
    >
      <div class="text-center">
        <p class="text-xl font-bold mb-4">{player.position}</p>
        <div class="space-y-2">
          <p>
            <span class="text-gray-300">Matchs :</span>
            <span class="font-bold ml-2">{player.appearances}</span>
          </p>
          <p>
            <span class="text-gray-300">Buts :</span>
            <span class="font-bold ml-2">{player.goals}</span>
          </p>
          <p>
            <span class="text-gray-300">Passes décisives :</span>
            <span class="font-bold ml-2">{player.assists}</span>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
