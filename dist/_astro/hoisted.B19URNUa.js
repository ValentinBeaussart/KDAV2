import"./hoisted.CNm4v15S.js";const m=document.getElementById("matchForm"),s=document.getElementById("match_type"),c=document.getElementById("opponent_club_container"),p=document.getElementById("opponent_name_container");s?.addEventListener("change",a=>{const e=a.target.value,o=document.querySelector('[name="opponent_club_id"]'),n=document.querySelector('[name="opponent_name"]');e==="MCDO_POOL"?(c?.classList.remove("hidden"),p?.classList.add("hidden"),o.required=!0,n.required=!1,n.value=""):(c?.classList.add("hidden"),p?.classList.remove("hidden"),o.required=!1,n.required=!0,o.value="")});m?.addEventListener("submit",async a=>{a.preventDefault();const e=new FormData(a.target),o=e.getAll("players").map(t=>parseInt(t.toString())),n=e.get("match_type"),r=e.get("opponent_club_id"),i={date:e.get("date"),time:e.get("time"),match_type:n,competition_round:e.get("competition_round")||null,location:e.get("location"),opponent_name:n==="MCDO_POOL"?document.querySelector(`[name="opponent_club_id"] option[value="${r}"]`)?.textContent:e.get("opponent_name"),opponent_club_id:n==="MCDO_POOL"?parseInt(r):null,opponent_logo:e.get("opponent_logo")||null,is_completed:!1,players:o};try{const t=await fetch("/api/matches",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!t.ok){const l=await t.json();throw new Error(l.message||"Error creating match")}window.location.href="/admin/matches"}catch(t){console.error("Error:",t),alert(t instanceof Error?t.message:"Error creating match")}});s?.dispatchEvent(new Event("change"));
