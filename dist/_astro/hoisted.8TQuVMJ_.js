import"./hoisted.CNm4v15S.js";function l(){const n=parseInt(document.getElementById("goals_for").value)||0,o=parseInt(document.getElementById("goals_against").value)||0,a=parseInt(document.getElementById("won").value)||0,t=parseInt(document.getElementById("drawn").value)||0,r=n-o,e=a*3+t;document.getElementById("goalDifference").textContent=r.toString(),document.getElementById("points").textContent=e.toString()}["goals_for","goals_against","won","drawn"].forEach(n=>{document.getElementById(n)?.addEventListener("input",l)});document.getElementById("clubForm")?.addEventListener("submit",async n=>{n.preventDefault();const o=n.target,a=o.dataset.clubId,t=new FormData(o),r={...a==="1"?{}:{name:t.get("name"),logo:t.get("logo")||null,is_mcdo_pool:t.get("is_mcdo_pool")==="on"},played:parseInt(t.get("played")),won:parseInt(t.get("won")),drawn:parseInt(t.get("drawn")),lost:parseInt(t.get("lost")),goals_for:parseInt(t.get("goals_for")),goals_against:parseInt(t.get("goals_against")),points:parseInt(t.get("won"))*3+parseInt(t.get("drawn"))};try{const e=await fetch(`/api/clubs/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!e.ok){const s=await e.json();throw new Error(s.message||"Error updating club")}window.location.href="/admin/clubs"}catch(e){console.error("Error:",e),alert(e instanceof Error?e.message:"Error updating club")}});
